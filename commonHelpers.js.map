{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nconst loaderEl = document.querySelector('.loader');\n\n\n\nexport function getImages(query) {\n\n  const options = {\n    base: 'https://pixabay.com/api/',\n    key: '42653068-ca30bcafd67c2a07aae2cb182',\n    q: '',\n    image_type: 'photo',\n    oriental: 'horizontal',\n    safesearch: 'true',\n  };\n\n  options.q = query;\n  const params = new URLSearchParams(options);\n\n  loaderEl.style.display = 'block';\n\n  const LINK = `${options.base}?${params}`;\n  return fetch(LINK)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error('Image error');\n      }\n      return res.json();\n    })\n    .then(data => {\n      loaderEl.style.display = 'none';\n      if (data.hits.length === 0) {\n        iziToast.error({\n          timeout: 1500,\n          position: 'bottomCenter',\n          message:\n            'There are no images matching your search query. Please, enter something else!',\n        });\n      }\n      return data;\n    })\n    .catch(error => {\n      console.log('Error fetching data!', error);\n    });\n}\n","export function searchImage(data) {\n    return data.hits.reduce(\n        (html, image) => html +\n            `<div class=\"container-image-gallery\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img\n                class=\"gallery-image\"\n                src=\"${image.webformatURL}\"\n                alt=\"${image.tags}\"\n            />\n           <ul class=\"info-list\">\n              <li class=\"info-item\">\n                  <p class=\"info-title\">Likes</p>\n                  <p class=\"info-value\">${image.likes}</p>\n              </li>\n              <li class=\"info-item\">\n                  <p class=\"info-title\">Views</p>\n                  <p class=\"info-value\">${image.views}</p>\n              </li>\n              <li class=\"info-item\">\n                  <p class=\"info-title\">Comments</p>\n                  <p class=\"info-value\">${image.comments}</p>\n              </li>\n              <li class=\"info-item\">\n                  <p class=\"info-title\">Downloads</p>\n                  <p class=\"info-value\">${image.downloads}</p>\n              </li>\n            </ul>\n        </a>\n        </div>`, ''\n    );\n};","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nimport { getImages } from './js/pixabay-api';\nimport { searchImage } from './js/render-functions';\n\nconst formEl = document.querySelector('.search');\nconst galleryEl = document.querySelector('.gallery');\n\n\nlet query = '';\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n    evt.preventDefault();\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n      nav: true,\n      captions: true,\n      captionsData: 'alt',\n      captionDelay: 150,\n    });\n\n  query = formEl.elements.query.value.trim();\n    galleryEl.innerHTML = '';\n\n    getImages(query)\n      .then(data => {\n        const markup = searchImage(data);\n        galleryEl.insertAdjacentHTML('beforeend', markup);\n        lightbox.refresh();\n      })\n      .catch(error => {\n        console.log('Error:', error);\n      });\n    formEl.reset();\n}"],"names":["loaderEl","getImages","query","options","params","LINK","res","data","iziToast","error","searchImage","html","image","formEl","galleryEl","onSubmit","evt","lightbox","SimpleLightbox","markup"],"mappings":"6vBAIA,MAAMA,EAAW,SAAS,cAAc,SAAS,EAI1C,SAASC,EAAUC,EAAO,CAE/B,MAAMC,EAAU,CACd,KAAM,2BACN,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,SAAU,aACV,WAAY,MAChB,EAEEA,EAAQ,EAAID,EACZ,MAAME,EAAS,IAAI,gBAAgBD,CAAO,EAE1CH,EAAS,MAAM,QAAU,QAEzB,MAAMK,EAAO,GAAGF,EAAQ,IAAI,IAAIC,CAAM,GACtC,OAAO,MAAMC,CAAI,EACd,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,aAAa,EAE/B,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,IACJP,EAAS,MAAM,QAAU,OACrBO,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,QAAS,KACT,SAAU,eACV,QACE,+EACZ,CAAS,EAEID,EACR,EACA,MAAME,GAAS,CACd,QAAQ,IAAI,uBAAwBA,CAAK,CAC/C,CAAK,CACL,CC/CO,SAASC,EAAYH,EAAM,CAC9B,OAAOA,EAAK,KAAK,OACb,CAACI,EAAMC,IAAUD,EACb;AAAA,4CACgCC,EAAM,aAAa;AAAA;AAAA;AAAA,uBAGxCA,EAAM,YAAY;AAAA,uBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0CAKSA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,0CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,gBAIxC,EACjB,CACA,CCxBA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAY,SAAS,cAAc,UAAU,EAGnD,IAAIZ,EAAQ,GAEZW,EAAO,iBAAiB,SAAUE,CAAQ,EAE1C,SAASA,EAASC,EAAK,CACnBA,EAAI,eAAc,EAElB,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,IAAK,GACL,SAAU,GACV,aAAc,MACd,aAAc,GACpB,CAAK,EAEHhB,EAAQW,EAAO,SAAS,MAAM,MAAM,KAAI,EACtCC,EAAU,UAAY,GAEtBb,EAAUC,CAAK,EACZ,KAAKK,GAAQ,CACZ,MAAMY,EAAST,EAAYH,CAAI,EAC/BO,EAAU,mBAAmB,YAAaK,CAAM,EAChDF,EAAS,QAAO,CACxB,CAAO,EACA,MAAMR,GAAS,CACd,QAAQ,IAAI,SAAUA,CAAK,CACnC,CAAO,EACHI,EAAO,MAAK,CAChB"}